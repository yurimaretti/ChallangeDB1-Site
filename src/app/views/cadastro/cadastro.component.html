<section class="pg">

  <!-- Título da página -->

  <h2 class="titulo-pg">Cadastre-se</h2>

  <!-- Card -->

  <app-card [titulo]="'Cadastro'" [width]="'70%'">

    <!-- Formulário cadastro -->

    <form [formGroup]="formulario">
      <div class="row mb-3">

        <div class="col">
          <label for="nomeUsuario" class="form-label">Nome</label>
          <input type="text" class="form-control" id="nomeUsuario" formControlName="nomeUsuario" placeholder="Informe seu nome">
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('nomeUsuario')?.errors?.['required'] && formulario.get('nomeUsuario')?.touched">
            Nome é obrigatório
          </div>
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('nomeUsuario')?.errors?.['minlength']">
            Nome deve ter no mínimo 2 caracteres
          </div>
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('nomeUsuario')?.errors?.['maxlength']">
            Nome deve ter no máximo 70 caracteres
          </div>
        </div>

        <div class="col">
          <label for="emailUsuario" class="form-label">Email</label>
          <input type="email" class="form-control" id="emailUsuario" formControlName="emailUsuario" placeholder="Informe seu e-mail">
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('emailUsuario')?.errors?.['required'] && formulario.get('emailUsuario')?.touched">
            E-mail é obrigatório
          </div>
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('emailUsuario')?.errors?.['email']">
            Formato de e-mail inválido
          </div>
        </div>

      </div>

      <div class="row mb-4">

        <div class="col">
          <label for="genero" class="form-label">Gênero</label>
          <select id="genero" class="form-select" formControlName="genero">
            <option *ngFor="let genero of generosEnum" [value]="genero">{{ genero }}</option>
          </select>
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('genero')?.errors?.['required'] && formulario.get('genero')?.touched">
            Gênero é obrigatório
          </div>
        </div>

        <div class="col">
          <div class="col">
            <p class="mb-3">Tipo do cadastro</p>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="tipoCadastro" formControlName="tipoCadastro" id="aprendiz" value="aprendiz">
              <label class="form-check-label" for="aprendiz">Aprendiz</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="tipoCadastro" formControlName="tipoCadastro" id="mentor" value="mentor">
              <label class="form-check-label" for="mentor">Mentor</label>
            </div>
            <div class="mensagem-erro mt-1" *ngIf="formulario.get('tipoCadastro')?.errors?.['required'] && formulario.get('tipoCadastro')?.touched">
              Tipo de cadastro é obrigatório
            </div>
          </div>
        </div>

      </div>

      <!-- Definição da senha -->

      <p class="text-center mb-1">Defina a senha</p>
      <hr class="hr mb-4" />

      <div class="row mb-3">

        <div class="col">
          <label for="senhaUsuario1" class="form-label">Senha</label>
          <input type="password" class="form-control" id="senhaUsuario1" formControlName="senhaUsuario1" placeholder="Informe sua senha">
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('senhaUsuario1')?.errors?.['required'] && formulario.get('senhaUsuario1')?.touched">
            Senha é obrigatória
          </div>
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('senhaUsuario1')?.errors?.['minlength']">
            Senha deve ter no mínimo 5 caracteres
          </div>
          <div class="mensagem-erro mt-1" *ngIf="formulario.get('senhaUsuario1')?.errors?.['maxlength']">
            Senha deve ter no máximo 15 caracteres
          </div>
        </div>

        <div class="col">
          <label for="senhaUsuario2" class="form-label">Confirme sua senha</label>
          <input type="password" class="form-control" id="senhaUsuario2" formControlName="senhaUsuario2" placeholder="Informe novamente sua senha">
          <div *ngIf="formulario.errors?.['mustMatch'] && formulario.get('senhaUsuario2')?.touched">
            <small class="text-danger">As senhas não coincidem.</small>
          </div>
        </div>

      </div>

      <button (click)="cadastrarUsuario()" type="button" class="btn btn-dark d-block mt-5 mx-auto w-50" [disabled]="!formulario.valid">Cadastrar</button>
    </form>

  </app-card>

</section>

